config nodes 'Splitter'
	option remarks 'Splitter'
	option type 'sing-box'
	option protocol '_shunt'
	option default_node 'Ghost'
	option preproxy_enabled '0'
	option Block '_blackhole'
	option Direct '_direct'

config socks 'Auto'
	option enabled '0'
	option port '9801'
	option http_port '0'
	option node 'Ghost'
	option log '1'
	option enable_autoswitch '1'
	option autoswitch_testing_time '10'
	option autoswitch_connect_timeout '3'
	option autoswitch_retry_num '1'
	option autoswitch_restore_switch '1'
	option autoswitch_probe_url 'https://1.1.1.1/cdn-cgi/trace/'
	list autoswitch_backup_node 'Ghost'
	list autoswitch_backup_node 'WarpPlus'
	list autoswitch_backup_node 'Psiphon'
	list autoswitch_backup_node 'Tor'
	list autoswitch_backup_node 'SshProxy'
	list autoswitch_backup_node 'Lantern'
	list autoswitch_backup_node 'ServerLess'

config nodes 'Ghost'
	option group 'default'
	option remarks 'Ghost'
	option type 'sing-box'
	option protocol 'socks'
	option address '127.0.0.1'
	option port '9802'
	option transport 'tcp'
	option tcp_guise 'none'

config nodes 'WarpPlus'
	option group 'default'
	option remarks 'WarpPlus'
	option type 'sing-box'
	option protocol 'socks'
	option address '127.0.0.1'
	option port '9803'
	option transport 'tcp'
	option tcp_guise 'none'

config nodes 'Psiphon'
	option group 'default'
	option remarks 'Psiphon'
	option type 'sing-box'
	option protocol 'socks'
	option address '127.0.0.1'
	option port '9804'
	option transport 'tcp'
	option tcp_guise 'none'

config nodes 'Tor'
	option group 'default'
	option remarks 'Tor'
	option type 'sing-box'
	option protocol 'socks'
	option address '127.0.0.1'
	option port '9805'
	option transport 'tcp'
	option tcp_guise 'none'

config nodes 'SshProxy'
	option group 'default'
	option remarks 'SshProxy'
	option type 'sing-box'
	option protocol 'socks'
	option address '127.0.0.1'
	option port '9806'
	option transport 'tcp'
	option tcp_guise 'none'

config nodes 'Lantern'
	option group 'default'
	option remarks 'Lantern'
	option type 'sing-box'
	option protocol 'socks'
	option address '127.0.0.1'
	option port '9807'
	option transport 'tcp'
	option tcp_guise 'none'

config nodes 'ServerLess'
	option group 'default'
	option remarks 'ServerLess'
	option type 'sing-box'
	option protocol 'socks'
	option address '127.0.0.1'
	option port '10808'
	option transport 'tcp'
	option tcp_guise 'none'

config global
	option enabled '1'
	option node_socks_port '9800'
	option localhost_proxy '0'
	option client_proxy '1'
	option socks_enabled '0'
	option acl_enable '0'
	option node 'Splitter'
	option direct_dns_protocol 'auto'
	option direct_dns_query_strategy 'UseIPv4'
	option remote_dns_protocol 'tcp'
	option remote_dns '1.1.1.1'
	option remote_dns_query_strategy 'UseIPv4'
	option dns_hosts 'dns.adguard.com 94.140.14.14
adguard-dns.com 94.140.14.14
dns.adguard-dns.com 94.140.14.14
family.adguard-dns.com 94.140.14.15
unfiltered.adguard-dns.com 94.140.14.140
dns.alidns.com 223.5.5.5
doh.opendns.com 208.67.222.222
doh.familyshield.opendns.com 208.67.222.123
doh.sandbox.opendns.com 208.67.222.2
dns.cloudflare.com 1.1.1.1
cloudflare-dns.com 1.1.1.1
security.cloudflare-dns.com 1.1.1.2
family.cloudflare-dns.com 1.1.1.3
doh.cleanbrowsing.org 185.228.168.168
freedns.controld.com 76.76.2.0
doh.dns.sb 185.222.222.222
dns.google 8.8.8.8
dns.google.com 8.8.8.8
ordns.he.net 74.82.42.42
dns.pub 119.29.29.29
sm2.doh.pub 119.29.29.29
dns.quad9.net 9.9.9.9
dns10.quad9.net 9.9.9.10
dns11.quad9.net 9.9.9.11
doh.360.cn 101.226.4.6
dns.surfsharkdns.com 194.169.169.169
wikimedia-dns.org 185.71.138.138
doh.libredns.gr 88.198.92.222'
	option log_node '1'
	option loglevel 'error'
	option write_ipset_direct '0'
	option remote_dns_detour 'remote'
	option remote_fakedns '0'
	option dns_redirect '0'
	option node_socks_bind_local '0'

config global_haproxy
	option balancing_enable '0'

config global_delay
	option start_daemon '1'
	option start_delay '10'

config global_forwarding
	option tcp_no_redir_ports 'disable'
	option udp_no_redir_ports 'disable'
	option tcp_redir_ports '1:65535'
	option udp_redir_ports '53,80,443'
	option accept_icmp '0'
	option prefer_nft '1'
	option tcp_proxy_way 'redirect'
	option ipv6_tproxy '0'

config global_xray
	option sniffing_override_dest '0'
	option fragment '0'
	option noise '0'

config global_other
	option auto_detection_time 'tcping'
	option show_node_info '1'
	option url_test_url 'https://www.gstatic.com/generate_204'

config global_rules
	option auto_update '0'
	option geosite_update '1'
	option geoip_update '1'
	option v2ray_location_asset '/usr/share/v2ray/'
	option geoip_url 'https://github.com/Chocolate4U/Iran-v2ray-rules/releases/latest/download/geoip-lite.dat'
	option geosite_url 'https://github.com/Chocolate4U/Iran-v2ray-rules/releases/latest/download/geosite-lite.dat'
	option enable_geoview '1'

config global_app
	option geoview_file '/usr/bin/geoview'
	option xray_file '/usr/bin/xray'
	option hysteria_file '/usr/bin/hysteria'
	option sing_box_file '/usr/bin/sing-box'

config global_subscribe
	option filter_keyword_mode '1'
	option ss_type 'sing-box'
	option trojan_type 'sing-box'
	option vmess_type 'sing-box'
	option vless_type 'sing-box'
	option hysteria2_type 'sing-box'
	option domain_strategy 'prefer_ipv4'

config global_singbox
	option sniff_override_destination '0'
	option geoip_path '/usr/share/singbox/geoip.db'
	option geoip_url 'https://github.com/Chocolate4U/Iran-sing-box-rules/releases/latest/download/geoip-lite.db'
	option geosite_path '/usr/share/singbox/geosite.db'
	option geosite_url 'https://github.com/Chocolate4U/Iran-sing-box-rules/releases/latest/download/geosite-lite.db'
	option record_fragment '0'
	option fragment '0'

config shunt_rules 'Block'
	option remarks 'Block'
	option network 'tcp,udp'
	option domain_list 'rule-set:local:/usr/share/singbox/rule-set/geosite-adguard.srs'
	option ip_list 'rule-set:local:/usr/share/singbox/rule-set/geoip-malware.srs
rule-set:local:/usr/share/singbox/rule-set/geoip-phishing.srs'

config shunt_rules 'Direct'
	option remarks 'Direct'
	option network 'tcp,udp'
	option domain_list 'rule-set:local:/usr/share/singbox/rule-set/geosite-direct.srs'
	option ip_list 'rule-set:local:/usr/share/singbox/rule-set/geoip-ir.srs
rule-set:local:/usr/share/singbox/rule-set/geoip-private.srs'

config shunt_rules 'Proxy'
	option remarks 'Proxy'
	option network 'tcp,udp'
	option port '53,443'
	option domain_list 'rule-set:local:/usr/share/singbox/rule-set/geosite-sanction.srs
rule-set:local:/usr/share/singbox/rule-set/geosite-category-anticensorship.srs
rule-set:local:/usr/share/singbox/rule-set/geosite-category-communication.srs
rule-set:local:/usr/share/singbox/rule-set/geosite-category-entertainment.srs
rule-set:local:/usr/share/singbox/rule-set/geosite-category-media.srs
rule-set:local:/usr/share/singbox/rule-set/geosite-category-porn.srs
rule-set:local:/usr/share/singbox/rule-set/geosite-category-forums.srs
rule-set:local:/usr/share/singbox/rule-set/geosite-category-social.srs'
	option ip_list '91.108.56.0/22
91.108.4.0/22
91.108.8.0/22
91.108.16.0/22
91.108.12.0/22
149.154.160.0/20
91.105.192.0/23
91.108.20.0/22
185.76.151.0/24
2001:b28:f23d::/48
2001:b28:f23f::/48
2001:67c:4e8::/48
2001:b28:f23c::/48
2a0a:f280::/32'
